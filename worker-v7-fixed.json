{
    "family":  "kasparro-worker",
    "taskRoleArn":  "arn:aws:iam::743957503839:role/kasparro-ecs-task-role",
    "executionRoleArn":  "arn:aws:iam::743957503839:role/kasparro-ecs-task-execution-role",
    "networkMode":  "awsvpc",
    "requiresCompatibilities":  [
                                    "FARGATE"
                                ],
    "cpu":  "256",
    "memory":  "512",
    "containerDefinitions":  [
                                 {
                                     "name":  "worker",
                                     "image":  "ghcr.io/r1ssh1/kasparro-backend-rishi-jha:latest",
                                     "essential":  true,
                                     "entryPoint":  [
                                                        "python",
                                                        "-m",
                                                        "worker.scheduler"
                                                    ],
                                     "environment":  [
                                                         {
                                                             "name":  "ETL_SCHEDULE_MINUTES",
                                                             "value":  "60"
                                                         },
                                                         {
                                                             "name":  "APP_ENV",
                                                             "value":  "production"
                                                         },
                                                         {
                                                             "name":  "DATABASE_URL",
                                                             "value":  "postgresql+asyncpg://kasparro_admin:KasparroSecure2024!@kasparro-postgres.cp8acayqwl5q.ap-south-2.rds.amazonaws.com:5432/kasparro"
                                                         },
                                                         {
                                                             "name":  "DATABASE_URL_SYNC",
                                                             "value":  "postgresql://kasparro_admin:KasparroSecure2024!@kasparro-postgres.cp8acayqwl5q.ap-south-2.rds.amazonaws.com:5432/kasparro"
                                                         },
                                                         {
                                                             "name":  "DATABASE_NAME",
                                                             "value":  "kasparro"
                                                         },
                                                         {
                                                             "name":  "DATABASE_HOST",
                                                             "value":  "kasparro-postgres.cp8acayqwl5q.ap-south-2.rds.amazonaws.com"
                                                         },
                                                         {
                                                             "name":  "DATABASE_USER",
                                                             "value":  "kasparro_admin"
                                                         },
                                                         {
                                                             "name":  "DATABASE_PASSWORD",
                                                             "value":  "KasparroSecure2024!"
                                                         },
                                                         {
                                                             "name":  "LOG_LEVEL",
                                                             "value":  "INFO"
                                                         },
                                                         {
                                                             "name":  "COINGECKO_RATE_LIMIT",
                                                             "value":  "30"
                                                         }
                                                     ],
                                     "secrets":  [
                                                     {
                                                         "name":  "COINGECKO_API_KEY",
                                                         "valueFrom":  "arn:aws:secretsmanager:ap-south-2:743957503839:secret:kasparro/app-secrets-V9XGVq:COINGECKO_API_KEY::"
                                                     },
                                                     {
                                                         "name":  "ADMIN_API_KEY",
                                                         "valueFrom":  "arn:aws:secretsmanager:ap-south-2:743957503839:secret:kasparro/app-secrets-V9XGVq:ADMIN_API_KEY::"
                                                     }
                                                 ],
                                     "logConfiguration":  {
                                                              "logDriver":  "awslogs",
                                                              "options":  {
                                                                              "awslogs-group":  "/ecs/kasparro-worker",
                                                                              "awslogs-region":  "ap-south-2",
                                                                              "awslogs-stream-prefix":  "worker"
                                                                          }
                                                          }
                                 }
                             ]
}
